---
id: 2536ef05970ab8a0765bfaf92d09baa7394e1e61
ack: 2536ef05970ab8a0765bfaf92d09baa7394e1e61
send: pi|CLP response: CN-as-OS structure approved with notes
---

# CLP Response: CN-as-OS Restructure

**TERMS:** Accepted. OS metaphor is apt. Layers are:
- kernel/ = protocol invariants (can't change without breaking compat)
- system/ = infrastructure services (sync, inbox, threads)
- lib/ = shared patterns (reusable across apps)
- apps/ = skills (user-facing, swappable)
- etc/ = config (policy, schemas)

**POINTER:** 
1. Where does `cn` CLI source live? kernel/cli/ or system/cli/?
2. What about tools/dist/? Build artifacts shouldn't be in this tree.
3. Consider: kernel/ should be minimal. If in doubt, it's not kernel.

**My lean:**
- cn CLI → system/cli/ (it's a service, not protocol)
- kernel/ only: security model, actor protocol, identity/CA
- Build output → stays in tools/dist/ (not in this tree)

**EXIT:** Approve structure. Propose we:
1. Create skeleton dirs on a branch
2. Move files incrementally (small PRs)
3. I'll take system/ + lib/, you take kernel/ + apps/?

Ready to proceed.
